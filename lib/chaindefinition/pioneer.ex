defmodule ChainDefinition.Pioneer do
  alias Chain.{State, Account}

  def apply(%State{} = state) do
    id = Base16.decode("0x5000000000000000000000000000000000000000")
    acc = %Account{State.ensure_account(state, id) | code: code(), root_hash: nil}
    State.set_account(state, id, acc)
  end

  def code() do
    "0x6080604052600436106101355760003560e01c80638e0383a4116100ab578063c487e3f71161006f578063c487e3f71461032a578063c4a9e11614610332578063c76a117314610347578063cb106cf814610367578063f4b740161461037c578063f595416f146103a957610135565b80638e0383a41461028857806399ab110d146102b5578063b0128d92146102d5578063b540f894146102f5578063be3bb93c1461030a57610135565b8063534a2422116100fd578063534a2422146101de57806365c68de5146101f15780636f9874a41461021e5780637fca4a291461023357806383d8a80f146102535780638da085641461027357610135565b80630a938dff1461013a5780630ac168a1146101705780631b3b98c8146101875780631dd44706146101a757806345780f5f146101bc575b600080fd5b34801561014657600080fd5b5061015a6101553660046126ce565b6103be565b6040516101679190612c77565b60405180910390f35b34801561017c57600080fd5b5061018561045e565b005b34801561019357600080fd5b506101856101a23660046125dd565b6104d3565b3480156101b357600080fd5b506101856106eb565b3480156101c857600080fd5b506101d1610858565b604051610167919061273a565b6101856101ec36600461249e565b6108bb565b3480156101fd57600080fd5b5061021161020c366004612562565b610a1b565b6040516101679190612be0565b34801561022a57600080fd5b5061015a610bb9565b34801561023f57600080fd5b5061018561024e36600461249e565b610bd2565b34801561025f57600080fd5b5061018561026e3660046126ad565b610e1c565b34801561027f57600080fd5b5061015a610e92565b34801561029457600080fd5b506102a86102a336600461249e565b610e98565b6040516101679190612b65565b3480156102c157600080fd5b506101856102d03660046124d6565b610f43565b3480156102e157600080fd5b506101856102f03660046125c5565b611086565b34801561030157600080fd5b5061015a61117d565b34801561031657600080fd5b5061015a6103253660046126ce565b611183565b610185611196565b34801561033e57600080fd5b5061015a6111a0565b34801561035357600080fd5b5061018561036236600461259a565b6111a6565b34801561037357600080fd5b5061015a611307565b34801561038857600080fd5b5061039c61039736600461249e565b61130d565b6040516101679190612726565b3480156103b557600080fd5b5061015a611328565b600060ff83166103e0576103d96103d48361132d565b6113a7565b9050610458565b8260ff16600114156103fd576103d96103f88361132d565b6113b6565b8260ff166002141561041a576103d96104158361132d565b6113c5565b8260ff1660031415610437576103d96104328361132d565b6113d4565b60405162461bcd60e51b815260040161044f906128da565b60405180910390fd5b92915050565b33411480159061046d57504115155b80156104a25750336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614155b156104c6573341146104c65760405162461bcd60e51b815260040161044f90612a43565b6104d16000806113e3565b565b864381106104f35760405162461bcd60e51b815260040161044f90612ad4565b6007546000190161050c82619d8063ffffffff61164c16565b146105295760405162461bcd60e51b815260040161044f90612947565b8484176105485760405162461bcd60e51b815260040161044f906129eb565b60408051600680825260e082019092526060916020820160c08036833701905050905088408160008151811061057a57fe5b60200260200101818152505061058f886108b8565b8160018151811061059c57fe5b6020026020010181815250506105b1876108b8565b816002815181106105be57fe5b6020026020010181815250508560001b816003815181106105db57fe5b6020026020010181815250508460001b816004815181106105f857fe5b602002602001018181525050838160058151811061061257fe5b6020026020010181815250506000600161062b8361168e565b60408087015187516020808a0151845160008152909101938490526106509493612787565b6020604051602081039080840390855afa158015610672573d6000803e3d6000fd5b50505060206040510351905061068889826116be565b6106958989838a8a611778565b806001600160a01b0316886001600160a01b03168a6001600160a01b03167fc21a4132cfb2e72d1dd6f45bcb2dabb1722a19b036c895975db93175b1c5c06f60405160405180910390a450505050505050505050565b336106f4612376565b506001600160a01b0381166000908152600560208181526040808420815160a08101835281548184019081526001830154606080840191909152600284015460808401529082528351908101845260038301548152600483015481860152919094015491810191909152908201529061076c826113d4565b90506000811161078e5760405162461bcd60e51b815260040161044f90612a19565b61079e828263ffffffff61195316565b6001600160a01b0384166000818152600560208181526040808420865180518255808401516001830155820151600282015595820151805160038801559182015160048701559081015194909101939093559151909183156108fc02918491818181858888f1935050505015801561081a573d6000803e3d6000fd5b5060405181906001600160a01b038516906000907f7f22ec7a37a3fa31352373081b22bb38e1e0abd2a05b181ee7138a360edd3e1a908290a4505050565b6060600a8054806020026020016040519081016040528092919081815260200182805480156108b057602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610892575b505050505090505b90565b806108c5816119a8565b6108e15760405162461bcd60e51b815260040161044f906128a3565b6000816001600160a01b031663bcea317f6040518163ffffffff1660e01b815260040160206040518083038186803b15801561091c57600080fd5b505afa158015610930573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061095491906124ba565b90506001600160a01b038116331461097e5760405162461bcd60e51b815260040161044f906127f8565b6109973461098b8561132d565b9063ffffffff6119e416565b6001600160a01b038416600081815260066020908152604080832085518051825580840151600180840191909155908301516002830155958301518051600383015592830151600482015591810151600590920191909155513493917fd859864511fd3f512da77fc95a8c013b3a0e49bdface8f574b2df8527cecea7191a4505050565b610a2361239b565b6000610a2e84611a07565b6001600160a01b03841660009081526004820160205260409020600381015491925090610a5961239b565b6040518060800160405280876001600160a01b0316815260200184600101548152602001846002015481526020018367ffffffffffffffff81118015610a9e57600080fd5b50604051908082528060200260200182016040528015610ad857816020015b610ac56123cc565b815260200190600190039081610abd5790505b509052905060005b82811015610bae576000846003018281548110610af957fe5b6000918252602090912001546001600160a01b03169050610b186123f6565b506001600160a01b03811660008181526004870160209081526040918290208251608081018452815460ff1615158152600182015481840152600282015481850190815260039092015460608083019182528551808201875296875292519386019390935291519284019290925290850151805191929185908110610b9957fe5b60209081029190910101525050600101610ae0565b509695505050505050565b6000610bcd43619d8063ffffffff61164c16565b905090565b80610bdc816119a8565b610bf85760405162461bcd60e51b815260040161044f906128a3565b6000816001600160a01b031663bcea317f6040518163ffffffff1660e01b815260040160206040518083038186803b158015610c3357600080fd5b505afa158015610c47573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c6b91906124ba565b90506001600160a01b0381163314610c955760405162461bcd60e51b815260040161044f906127f8565b6000836001600160a01b031663bcea317f6040518163ffffffff1660e01b815260040160206040518083038186803b158015610cd057600080fd5b505afa158015610ce4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d0891906124ba565b9050610d12612376565b610d1b8561132d565b90506000610d28826113d4565b905060008111610d4a5760405162461bcd60e51b815260040161044f90612a19565b610d5a828263ffffffff61195316565b6001600160a01b038088166000908152600660209081526040808320855180518255808401516001830155820151600282015594820151805160038701559182015160048601559081015160059094019390935591519085169183156108fc02918491818181858888f19350505050158015610dda573d6000803e3d6000fd5b5060405181906001600160a01b038816906001907f7f22ec7a37a3fa31352373081b22bb38e1e0abd2a05b181ee7138a360edd3e1a90600090a4505050505050565b334114801590610e2b57504115155b8015610e605750336001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614155b15610e8457334114610e845760405162461bcd60e51b815260040161044f90612a43565b610e8e82826113e3565b5050565b60075490565b610ea061239b565b6000610eab83611a07565b90506040518060800160405280846001600160a01b03168152602001826001015481526020018260020154815260200182600301805480602002602001604051908101604052809291908181526020018280548015610f3357602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610f15575b5050505050815250915050919050565b801580610f5257506009810615155b15610f6f5760405162461bcd60e51b815260040161044f9061283d565b60005b8181101561108157610f82612420565b6040518060600160405280858585600601818110610f9c57fe5b905060200201358152602001858585600701818110610fb757fe5b905060200201358152602001858585600801818110610fd257fe5b905060200201358152509050611078848484600001818110610ff057fe5b9050602002013560001c61101886868660010181811061100c57fe5b905060200201356108b8565b61102a87878760020181811061100c57fe5b87878760030181811061103957fe5b9050602002013560001c88888860040181811061105257fe5b9050602002013560001c89898960050181811061106b57fe5b90506020020135876104d3565b50600901610f72565b505050565b33600081815260056020818152604092839020835160a081018552815481860190815260018301546060808401919091526002840154608084015290825285519081018652600383015481526004830154818501529190930154938101939093528101919091526110fd908363ffffffff611a2116565b6001600160a01b03821660008181526005602081815260408084208651805182558084015160018301558201516002820155958201518051600388015591820151600487015590810151949091019390935591518492907f81149c79fef0028ec92e02ee17f72b9bba024dce75220cba8d62f7bbcd0922b6908290a45050565b600d5490565b600061118f8383611a7e565b9392505050565b6104d13334611c90565b60025481565b816111b0816119a8565b6111cc5760405162461bcd60e51b815260040161044f906128a3565b6000816001600160a01b031663bcea317f6040518163ffffffff1660e01b815260040160206040518083038186803b15801561120757600080fd5b505afa15801561121b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061123f91906124ba565b90506001600160a01b03811633146112695760405162461bcd60e51b815260040161044f906127f8565b611282836112768661132d565b9063ffffffff611a2116565b6001600160a01b038516600081815260066020908152604080832085518051825580840151600180840191909155908301516002830155958301518051600383015592830151600482015591810151600590920191909155518693917f81149c79fef0028ec92e02ee17f72b9bba024dce75220cba8d62f7bbcd0922b691a450505050565b60035481565b6004602052600090815260409020546001600160a01b031681565b600090565b611335612376565b506001600160a01b0316600090815260066020908152604091829020825160a08101845281548185019081526001830154606080840191909152600284015460808401529082528451908101855260038301548152600483015481850152600590920154938201939093529082015290565b60006104588260000151611d90565b60006104588260000151611da7565b60006104588260200151611da7565b60006104588260200151611d90565b6113eb610bb9565b600754146113fb576113fb611dbb565b600d54820281101561141f5760405162461bcd60e51b815260040161044f906129a3565b600c8054600a90830190810490819003909155670de0b6b3a7640000016114514161144c83612710612016565b612050565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000166108fc61148f83600a63ffffffff61164c16565b6040518115909202916000818181858888f193505050501580156114b7573d6000803e3d6000fd5b50506301312d0082106114dc5760405162461bcd60e51b815260040161044f90612b0b565b629896808210611518576008600d54816114f257fe5b04600d600082825401925050819055506064600d541015611513576064600d555b61154b565b624c4b40821161154b576008600d548161152e57fe5b600d805492909104909103908190556064111561154b576000600d555b60005b60085481101561163f5760006008828154811061156757fe5b60009182526020808320909101546001600160a01b0316808352600990915260408220549092506115a09061271063ffffffff61164c16565b905060006115af600084611a7e565b905066038d7ea4c680008110156115ca575066038d7ea4c680005b808211156115d6578091505b811561161d576115e68383612105565b60405182906001600160a01b038516907fc083a1647e3ee591bf42b82564ffb4d16fdbb26068f0080da911c8d8300fd84a90600090a35b50506001600160a01b031660009081526009602052604081205560010161154e565b50610e8e6008600061243e565b600061118f83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f0000000000008152506121da565b6000816040516020016116a191906126f0565b604051602081830303815290604052805190602001209050919050565b60405163d90bd65160e01b81528290611772906001600160a01b0383169063d90bd651906116f0908690600401612726565b60206040518083038186803b15801561170857600080fd5b505afa15801561171c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117409190612542565b60405180604001604052806013815260200172556e726567697374657265642064657669636560681b81525084612211565b50505050565b600061178386611a07565b805490915060ff166117e5578054600160ff1990911681178255600a805491820181556000527fc65a7bb8d6351c1cf70c95a316cc6a92839c986682d98bc35f958f4883f9d2a80180546001600160a01b0319166001600160a01b0388161790555b6001600160a01b03851660009081526004820160205260409020805460ff16611845578054600160ff199091168117825560038301805491820181556000908152602090200180546001600160a01b0319166001600160a01b0388161790555b6001600160a01b03851660009081526004820160205260409020805460ff166118a5578054600160ff199091168117825560038301805491820181556000908152602090200180546001600160a01b0319166001600160a01b0388161790555b80600201548511156118f757600281018054908690556001830154908603906118d4908263ffffffff61223a16565b6001808501919091558401546118f0908263ffffffff61223a16565b6001850155505b80600301548411156119495760038101805490859055600283015490850390611926908263ffffffff61223a16565b600280850191909155840154611942908263ffffffff61223a16565b6002850155505b5050505050505050565b61195b612376565b816119698460200151611d90565b10156119875760405162461bcd60e51b815260040161044f90612b35565b602083015161199c908363ffffffff61225f16565b60208401525090919050565b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a4708181148015906119dc57508115155b949350505050565b6119ec612376565b82516119fe908363ffffffff6122aa16565b83525090919050565b6001600160a01b03166000908152600b6020526040902090565b611a29612376565b81611a378460000151611d90565b1015611a555760405162461bcd60e51b815260040161044f90612a93565b8251611a67908363ffffffff61225f16565b8352602083015161199c908363ffffffff6122aa16565b600060ff8316611b01576001600160a01b038216600090815260056020818152604092839020835160a081018552815481860190815260018301546060808401919091526002840154608084015290825285519081018652600383015481526004830154818501529190930154938101939093528101919091526103d9906113a7565b8260ff1660011415611b86576001600160a01b038216600090815260056020818152604092839020835160a081018552815481860190815260018301546060808401919091526002840154608084015290825285519081018652600383015481526004830154818501529190930154938101939093528101919091526103d9906113b6565b8260ff1660021415611c0b576001600160a01b038216600090815260056020818152604092839020835160a081018552815481860190815260018301546060808401919091526002840154608084015290825285519081018652600383015481526004830154818501529190930154938101939093528101919091526103d9906113c5565b8260ff1660031415610437576001600160a01b038216600090815260056020818152604092839020835160a081018552815481860190815260018301546060808401919091526002840154608084015290825285519081018652600383015481526004830154818501529190930154938101939093528101919091526103d9906113d4565b6001600160a01b038216600090815260056020818152604092839020835160a08101855281548186019081526001830154606080840191909152600284015460808401529082528551908101865260038301548152600483015481850152919093015493810193909352810191909152611d10908263ffffffff6119e416565b6001600160a01b03831660008181526005602081815260408084208651805182558084015160018301558201516002820155958201518051600388015591820151600487015590810151949091019390935591518392907fd859864511fd3f512da77fc95a8c013b3a0e49bdface8f574b2df8527cecea71908290a45050565b6000611d9d8260006122aa565b6040015192915050565b6000611db48260006122aa565b5192915050565b600080805b600a54811015611ffa576000600a8281548110611dd957fe5b60009182526020822001546001600160a01b03169150611df88261232c565b9050611e0b81606463ffffffff61164c16565b93506000611e1883611a07565b90506000611e49611e38610400846001015461201690919063ffffffff16565b60028401549063ffffffff61223a16565b905060005b6003830154811015611fab57826003018181548110611e6957fe5b60009182526020808320909101546001600160a01b031680835260048601909152604082206001810154919a509190611eae90611e389061040063ffffffff61201616565b9050611ee284611ed68b611eca8561271063ffffffff61201616565b9063ffffffff61201616565b9063ffffffff61164c16565b9050611eee8a82612050565b60005b6003830154811015611f5c57826004016000846003018381548110611f1257fe5b60009182526020808320909101546001600160a01b031683528201929092526040018120805460ff1916815560018181018390556002820183905560039091019190915501611ef1565b506001600160a01b038a1660009081526004860160205260408120805460ff19168155600181018290556002810182905590611f9b600383018261243e565b505060019092019150611e4e9050565b506001600160a01b0384166000908152600b60205260408120805460ff19168155600181018290556002810182905590611fe8600383018261243e565b505060019094019350611dc092505050565b612006600a600061243e565b61200e610bb9565b600755505050565b60008261202557506000610458565b8282028284828161203257fe5b041461118f5760405162461bcd60e51b815260040161044f90612906565b8015610e8e576001600160a01b0382166000908152600960205260409020546120bf57600880546001810182556000919091527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30180546001600160a01b0319166001600160a01b0384161790555b6001600160a01b0382166000908152600960205260409020546120e8908263ffffffff61223a16565b6001600160a01b0383166000908152600960205260409020555050565b6001600160a01b038216600090815260056020818152604092839020835160a08101855281548186019081526001830154606080840191909152600284015460808401529082528551908101865260038301548152600483015481850152919093015493810193909352810191909152612185908263ffffffff61233a16565b6001600160a01b03909216600090815260056020818152604092839020855180518255808301516001830155840151600282015594810151805160038701559081015160048601559091015192019190915550565b600081836121fb5760405162461bcd60e51b815260040161044f91906127a5565b50600083858161220757fe5b0495945050505050565b606082846122325760405162461bcd60e51b815260040161044f91906127a5565b509392505050565b60008282018381101561118f5760405162461bcd60e51b815260040161044f9061286c565b61226761245f565b6122728360006122aa565b905081816040015110156122985760405162461bcd60e51b815260040161044f9061296c565b60408101805192909203909152919050565b6122b261245f565b6122bb83612365565b6122f5576040805160608101825283815243602082015284518583015191928301916122ec9163ffffffff61223a16565b90529050610458565b604080516060810190915283518190612314908563ffffffff61223a16565b81524360208201526040858101519101529050610458565b60006104586103d48361132d565b612342612376565b825160400151612358908363ffffffff61223a16565b8351604001525090919050565b602001516202ac6043919091031090565b604051806040016040528061238961245f565b815260200161239661245f565b905290565b604051806080016040528060006001600160a01b031681526020016000815260200160008152602001606081525090565b604051806060016040528060006001600160a01b0316815260200160008152602001600081525090565b60405180608001604052806000151581526020016000815260200160008152602001600081525090565b60405180606001604052806003906020820280368337509192915050565b508054600082559060005260206000209081019061245c9190612480565b50565b60405180606001604052806000815260200160008152602001600081525090565b6108b891905b8082111561249a5760008155600101612486565b5090565b6000602082840312156124af578081fd5b813561118f81612c80565b6000602082840312156124cb578081fd5b815161118f81612c80565b600080602083850312156124e8578081fd5b823567ffffffffffffffff808211156124ff578283fd5b81850186601f820112612510578384fd5b8035925081831115612520578384fd5b8660208085028301011115612533578384fd5b60200196919550909350505050565b600060208284031215612553578081fd5b8151801515811461118f578182fd5b60008060408385031215612574578182fd5b823561257f81612c80565b9150602083013561258f81612c80565b809150509250929050565b600080604083850312156125ac578182fd5b82356125b781612c80565b946020939093013593505050565b6000602082840312156125d6578081fd5b5035919050565b600080600080600080600061012080898b0312156125f9578384fd5b883597506020808a013561260c81612c80565b975060408a013561261c81612c80565b965060608a0135955060808a0135945060a08a0135935060df8a018b13612641578283fd5b6040516060810181811067ffffffffffffffff82111715612660578485fd5b6040528060c08c01848d018e1015612676578586fd5b8594505b600385101561269957803582526001949094019390830190830161267a565b505080935050505092959891949750929550565b600080604083850312156126bf578182fd5b50508035926020909101359150565b600080604083850312156126e0578182fd5b823560ff8116811461257f578283fd5b815160009082906020808601845b8381101561271a578151855293820193908201906001016126fe565b50929695505050505050565b6001600160a01b0391909116815260200190565b6020808252825182820181905260009190848201906040850190845b8181101561277b5783516001600160a01b031683529284019291840191600101612756565b50909695505050505050565b93845260ff9290921660208401526040830152606082015260800190565b6000602080835283518082850152825b818110156127d1578581018301518582016040015282016127b5565b818111156127e25783604083870101525b50601f01601f1916929092016040019392505050565b60208082526025908201527f4f6e6c792074686520666c656574206163636f756e74616e742063616e20646f604082015264207468697360d81b606082015260800190565b602080825260159082015274092dcecc2d8d2c840e8d2c6d6cae840d8cadccee8d605b1b604082015260600190565b6020808252601b908201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604082015260600190565b6020808252601e908201527f496e76616c696420666c65657420636f6e747261637420616464726573730000604082015260600190565b602080825260129082015271155b9a185b991b195908185c99dd5b595b9d60721b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b6020808252600b908201526a0aee4dedcce40cae0dec6d60ab1b604082015260600190565b6020808252601b908201527f496e737566666963656e742066756e647320746f206465647563740000000000604082015260600190565b60208082526028908201527f41766572616765206761732070726963652062656c6f772063757272656e7420604082015267626173652066656560c01b606082015260800190565b602080825260149082015273496e76616c6964207469636b65742076616c756560601b604082015260600190565b60208082526010908201526f043616e277420776974686472617720360841b604082015260600190565b60208082526030908201527f4f6e6c7920746865206d696e6572206f662074686520626c6f636b2063616e2060408201526f18d85b1b081d1a1a5cc81b595d1a1bd960821b606082015260800190565b60208082526021908201527f43616e277420756e7374616b65206d6f7265207468616e206973207374616b656040820152601960fa1b606082015260800190565b60208082526017908201527f5469636b65742066726f6d20746865206675747572653f000000000000000000604082015260600190565b60208082526010908201526f426c6f636b20697320746f6f2062696760801b604082015260600190565b602080825260169082015275496e737566666963656e742066726565207374616b6560501b604082015260600190565b6000602080835260a0830160018060a01b03808651168386015282860151604086015260408601516060860152606086015160808087015282815180855260c08801915085830194508692505b80831015612bd457845184168252938501936001929092019190850190612bb2565b50979650505050505050565b602080825282516001600160a01b0390811683830152838201516040808501919091528085015160608086019190915280860151608080870152805160a087018190526000959491850193919286929160c08901905b80851015612c69578651805187168352888101518984015284015184830152958701956001949094019390820190612c36565b509998505050505050505050565b90815260200190565b6001600160a01b038116811461245c57600080fdfea2646970667358221220e159b2053905b7bdaae5bc4a9aeeca3395fa120d0b8537f2fe01917c04a3285164736f6c63430006050033"
    |> Base16.decode()
  end
end
